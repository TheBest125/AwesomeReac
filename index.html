<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Awesome Web Based React</title>
        <link rel="shortcut icon" href="favicon.ico" />
        <style>
            /* Reset */
            * { margin:0; padding:0; }

            /* Using 'Native font stack' - See Bootstrap 4 Docs for info on 'Native font stack' */
            html {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            }

            /* The body color is generated by using 98% of HSLA on the main React logo/blue color (#61dafb) */
            body { background-color: hsla(193, 95%, 98%, 1); }

            body,
            #root {
                display: flex;
                flex-direction: column;
                text-align: center;
                align-items: center;
            }

            body,
            a { color: #494368; }
            a:visited { color:#494368; }
            a:hover { text-decoration: none; color:hsla(250, 22%, 68%, 1); }

            h1 {
                display: flex;
                justify-content: center;
                padding: 20px;
            }

            section {
                box-shadow: 0 1px 5px 0 rgba(0,0,0,.5);
                padding: 30px 20px;
                margin: 40px auto;
                width: calc(100vw - 60px);
                max-width: 600px;
                background-color: white;
            }

            @media (min-width: 640px) {
                body,
                #root {
                    padding: 40px;
                }

                section {
                    padding: 30px 60px;
                    border-radius: 20px;
                }
            }

            section.filter {
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            input {
                padding: 1em 2em;
                border-radius: 2em;
                width: 80%;
                max-width: 350px;
                outline: none;
                box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.5), 0 0 2px 1px rgba(0, 0, 0, 0.1);
                border: none;
                background-color: #eff;
            }

            .site-link { display: inline-flex; align-items: center; }
            .site-link img { margin-right:1em; }
            .filter-count { margin-top:1em; }

            section h2 { margin:0 auto 1em auto; }
            section ul { text-align:left; }
            section ul li { margin-bottom:1em; margin-left:.5em; }
            section.category ul li { margin-bottom: 2em; }
            section ul li:last-child { margin-bottom: 0; }
            section ul li p { margin:.5em 0; }
            section ul li a { margin:.5em 1em; }
            section ul li > a { margin-left:0; }
            section ul li ul { margin-left:1em; margin-top:1em; }
            section.category ul li ul li { margin: .5em; }

            section.about p { margin: 1.5em; }
            section.about h2 span { margin-top: .4em; display: inline-block; }

            section.category a:visited { color: hsla(250, 22%, 50%, 1); }
            section.category > p {
                text-align: left;
                padding: 1em 0;
                font-style: italic;
            }

            /* Show the loading screen only if it appears for longer than half a second */
            .loading {
                background-color: lightblue;
                border: 1px solid hsla(195, 53%, 40%, 1);
                color: white;
                padding: 1em 2em;
                border-radius: .5em;
                opacity: 0;
                animation-name: show-after-delay;
                animation-delay: 0.5s;
                animation-duration: 0s;
                animation-timing-function: linear;
                animation-fill-mode: forwards;
            }
            @keyframes show-after-delay {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }

            .error {
                background-color: red;
                color: white;
                padding: 1em 2em;
                border: 1px solid darkred;
                border-radius: .5em;
            }
        </style>
    </head>
    <body>
        <h1>
            <img width="312" height="350" src="img/awesome-web-react.svg" alt="Awesome Web Based React" />
        </h1>

        <section class="about">
            <h2>Develop online with <a href="https://reactjs.org/" target="blank">React</a>! üåê <br><span>No Build Tools Needed! üöß</span></h2>
            <p>
                <a href="https://github.com/dataformsjs" class="site-link">
                    <img src="https://raw.githubusercontent.com/dataformsjs/website/master/public/img/logos/GitHub-Mark-32px.png" alt="GitHub">
                    <span>https://github.com/dataformsjs</span>
                </a>
            </p>
            <ul>
                <li>This site provides a list with examples of libraries and components that you can use to develop web pages and apps with React without any build tools.</li>
                <li>Development build tools and projects such as <code>webpack</code>, <code>babel</code>, and <code>create-react-app</code> are great but they do not make sense for all sites, web pages, and development workflows.</li>
                <li>With browser based options for JSX you can <strong>easily include React Components on any page</strong> without having to build the entire site using React or JSX.</li>
                <li>
                    <span>Reasons why you might want to do this can include:</span>
                    <ul>
                        <li><strong>Fast Development and Site Updates</strong> üöÄ Because there is no build process you can create and modify sites using any editor on any system.</li>
                        <li><strong>Easily Share</strong> üöÄ Provide React code snippets to designers or web developers who do not know or use JavaScript.</li>
                        <li><strong>Project Size</strong> üóõ This site includes many example mini apps and each one is typically less than 10 kB in size while a standard React app using <code>create-react-app</code>  is between 150 and 250 MB and includes over 30,000 files.</li>
                        <li><strong>Add to any Page</strong> üìÑ Add React to legacy and existing sites or web pages. Often React is used on new projects only but with online development options you can include React and Libraries directly from a CDN or JavaScript files.</li>
                        <li><strong>Learn React</strong> üè´ Web Development with only a Browser and a Text Editor is any easy way to get started with React or try new ideas and features.</li>
                        <li><strong>Rapid Prototyping</strong> üöÜ Instantly develop ideas and into quick apps and then migrate to a build process later if you want to.</li>
                    </ul>
                </li>
            </ul>
        </section>

        <div id="root"></div>

        <!--
            React
            https://reactjs.org/
        -->
        <script src="https://unpkg.com/react@16.13.0/umd/react.production.min.js" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/react-dom@16.13.0/umd/react-dom.production.min.js" crossorigin="anonymous"></script>

        <!--
            DataFormsJS JSX Loader and React Components
            https://www.dataformsjs.com/
        -->
        <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.0.1/js/react/jsxLoader.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/dataformsjs@4.0.1/js/react/es5/DataFormsJS.min.js"></script>
        <script>
            // Set to `true` to view compiler details
            jsxLoader.logCompileTime = false;
            jsxLoader.logCompileDetails = false;

            // This page uses the `...` spread syntax which is not supported by all modern browsers.
            // Set JSX Loader to fallback to Babel for modern browsers that do not support the spread syntax.
            // This includes UC Browser and Edge using EdgeHTML.
            jsxLoader.evalCode = 'const { id, ...other } = { id:123, test:456 }';
        </script>

        <!-- App Code -->
        <script type="text/babel">
            'use strict';

            function ShowLoading() {
                return <h3 className="loading">Loading...</h3>;
            }

            function ShowError(props) {
                return <p className="error">{props.error}</p>;
            }

            function Categories(props) {
                return (
                    <>
                        <section className="filter">
                            <h2>Filter Code List and Examples</h2>

                            <InputFilter
                                filter-selector="section.category ul li.link"
                                filter-results-selector=".filter-count"
                                filter-results-text-all="Showing all {totalCount} Items"
                                filter-results-text-filtered="Showing {displayCount} of {totalCount} Items"
                                placeholder="Enter filter, example 'select' or 'validation'"
                                afterFilter={afterFilter} />

                            <span class="filter-count"></span>
                        </section>

                        {props.data && props.data.categories && props.data.categories.map(category => {
                            return <Category {...category} />
                        })}
                    </>
                );
            }

            function afterFilter() {
                // Hide the main category section if all links under it are hidden.
                // Note - this code uses `Array.prototype.forEach.call` instead of
                // `for (const section of sections) {` because the generated code by
                // Babel doesn't work well for IE.
                const sections = document.querySelectorAll('section.category');
                Array.prototype.forEach.call(sections, function(section) {
                    const ul = section.querySelector('ul');
                    const items = ul.querySelectorAll('li.link');
                    let hasVisibleItems = false;
                    for (let n = 0, m = items.length; n < m; n++) {
                        if (items[n].style.display !== 'none') {
                            hasVisibleItems = true;
                            break;
                        }
                    }
                    section.style.display = (hasVisibleItems ? '' : 'none');
                });
            }

            function Category(props) {
                return (
                    <section className="category">
                        <h2>{props.category}</h2>
                        {props.description && <p>{props.description}</p>}
                        <ul>
                            {props.links && props.links.map(link => {
                                return <Link directory={props.directory} {...link} />
                            })}
                        </ul>
                    </section>
                );
            }

            function Link(props) {
                return (
                    <li class="link">
                        <strong>{props.name}</strong>
                        {props.description ?
                            <p>{props.description}</p> :
                            <DescriptionList descList={props.descList} />
                        }
                        {props.example && <a href={'examples/' + props.directory + '/' + props.example}>Example</a>}
                        {props.site && <a href={props.site} target="_blank">Site</a>}
                        {props.github && <a href={props.github} target="_blank">GitHub</a>}
                    </li>
                )
            }

            function DescriptionList(props) {
                return (
                    <ul>
                        {props.descList && props.descList.map(description => {
                            return <li>{description}</li>
                        })}
                    </ul>
                )
            }

            class App extends React.Component {
                render() {
                    return (
                        <ErrorBoundary>
                            <JsonData
                                url="links.json"
                                isLoading={<ShowLoading />}
                                hasError={<ShowError />}
                                isLoaded={<Categories />} />
                        </ErrorBoundary>
                    )
                }
            }

            ReactDOM.render(
                <App />,
                document.getElementById('root')
            );
        </script>
    </body>
</html>